<!DOCTYPE html>

<!--
  Google HTML5 slide template

  Authors: Luke Mahé (code)
           Marcin Wichary (code and design)
           
           Dominic Mazzoni (browser compatibility)
           Charles Chen (ChromeVox support)

  URL: http://code.google.com/p/html5slides/
-->

<html>
  <head>
    <title>Functional Reactive Programming in Game Development</title>

    <meta charset='utf-8'>
    <script src='slides.js'></script>
  </head>
  
  <style>
    /* Your individual styles here, or just use inline styles if that’s
       what you want. */
    
    
  </style>

  <body style='display: none'>

    <section class='slides layout-regular template-default'>
      
      <!-- Your slides (<article>s) go here. Delete or comment out the
           slides below. -->
        
      <article>
		<h1> Functional Reactive Programming in Game Development </h1>
		<p>
			Ray Shulang Lei
		</p>
      </article>

      <article>
        <h3>
			Imperative vs Functional programming
        </h3>
		<ul>
			<li>
			Imperative - describes computation in terms of statements that change a program state. 
			</li>
			<li>
			Functional -  treats computation as the evaluation of mathematical functions and avoids state and mutable data, thus expressing the logic of a computation without describing its control flow.
			</li>
		</ul>
      </article>

      <article>
        <h3>
			Imperative Example: 
			Count all numbers that can be divided exactly by 5 from 1 to 150.
        </h3>
		<section>
		<pre>
			int sum = 0;
			for (int i = 0; i < 150; i++)
			{
				if (i % 5 == 0)
				  sum += i;
			}
			printf(sum);
		</pre>
		</section>
      </article>

      <article>
        <h3>
			Functional Example: 
			Count all numbers that can be divided exactly by 5 from 1 to 150.
        </h3>
		<section>
		<pre>
			show $ length [x | x <- [1..150], x `mod` 5 == 0]
		</pre>
		</section>
      </article>

      <article>
        <h3> Advantages of functional programming </h3>
        <ul>
            <li>Expressive</li>
            <li>Easy to debug and test</li>
            <li>Easy to scale thus good modularity</li>
            <li>Easy to parallelized, adapt to concurrency well</li>
            <li>Rapid development</li>
            <li>Matchmatically elegant</li>
        </ul>
      </article>

      <article>
        <h3> Pitfalls of functional programming </h3>
        <ul>
            <li>Difficult to learn</li>
            <li>Hard to predict time and space complexity(due to lazyz eval)</li>
            <li>Hard to program for some real life problem because it abstracts from hardware more than imperative</li>
        </ul>
      </article>

      <article>
        <h3> Problems of imperative programming in Game development </h3>
        <ul class="build">
            <li>Data Race, deadlock</li>
            <li>Scaling requires lots efforts</li>
            <li>Debugging and testing requires lots efforts</li>
            <li>Hard to understand large projects</li>
            <li>Hard to extend modularly</li>
        </ul>
      </article>

      <article>
        <h3>Great! Let's just use Functional programming for games then, easy:</h3>
		<section>
		<pre>
            GameLoop( 
                Players(), AIs(), Trees(), Guns(), Bullets(), ... )
		</pre>
		</section>
        <ul class="build">
            <li>Wait a second! Something doesn't seem right here...</li>
            <li>Games have time-varying states</li>
            <li>Game objects interact with each other</li>
            <li>Game objects reacts to physical laws and player IOs</li>
        </ul>
      </article>

      <article>
        <h3>I got it, give me one more chance, I can still do it, boss!</h3>
		<section>
		<pre>
            gameState = [playerPosition, playerSpeed, 
                        gamepadIO, playerIsColliding, ... ]
            t = currentTime()
            GameLoop( 
                Players(gameState, t), AIs(gameState, t), 
                Trees(gameState, t), Guns(gameState, t), 
                Bullets(gameState, t), ... )
		</pre>
		</section>
        <ul class="build">
            <li>Mutable GameState variable</li>
            <li>This is not functional programming!</li>
            <li>And it's ugly! Look at the giant gameState!</li>
            <li>Games don't like functional programming, what are we gonna do?</li>
        </ul>
      </article>

      <article>
        <h3>Functional Reactive programming to the rescue</h3>
        <p>
            A signal is a type value related to continuous time:
            <pre> Signal a = Time -> a</pre>
            A signal function is a function from Signal to Signal:
            <pre> SF a b = Signal a -> Signal b</pre>
        </p>
      </article>

      <article>
        Signal function combinators composite function(s) to a Signal Function:
        <img src="images/sf_com.jpg" />
      </article>

   </section>

  </body>
</html>
